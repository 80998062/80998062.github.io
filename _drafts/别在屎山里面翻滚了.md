# 别在屎山里面翻滚了

> 程序员没钱买烟 所以又换了一个新的回车键      



学Android有一年了吧,这一年下来,不知道踩了多少坑,年关了,记记流水账.

前后待了两个公司,都是小规模的创业公司

现在在一个人开发一个项目,想就独立开发吐槽一下...

## 关于架构

刚开始公司的项目一个多月吧,现在很后悔当初没用使用

拿MVP练手过,当时感觉没什么用

然后在一开始架构整个项目的时候

卧槽一开始看着产品的原型图,我感觉这是一个很简单的App

加了Rxjava和Dagger的依赖就开始动手了

然后卧槽每个礼拜都有新的功能要上线....

迭代的速度跟Web端一样...

我发现自己的代码已经跟屎一样了



并且我发现一部分的页面业务逻辑非常简单,就是从后端拿数据展现出来

基本是一个列表的样子

然后我开始由此封装一些基类

高兴的发现可以用两三行代码就实现一个有下拉刷新 上拉加载 点击跳转 各种状态的List fragment

然后慢慢的就笑不出来了

这些基类确实很鸡肋

当我把所有业务逻辑都写在某个activity也好 fragment也好 

发现复用它们是多么的困难

没错,因为其实用法是一毛一样,我们只要搬运一下就好了

但是这样是不对的...

我是一个有原则的程序员

然后我再想当初为什么不用MVP

现在想把业务逻辑剥离到Presenter已经变得很麻烦了





关于EventBus

之前在用过一段时间EventBus之后一直很克制地使用它

因为感觉代码量一上去,各种Event会让逻辑变得很混乱

现在发现了适合发送消息的应该是一些全局事件,其他一些耦合度很高的可以直接用普通的Observable模式来实现.



比如说你删除一个评论,发送一个PostCommentEvent 那么就应该让

所有和comment有关的页面都订阅这个事件

我开始在一个Event类里面写注释:

备注下到底这个事件发送之后应该或者或者影响到哪些页面





我们太穷了 买不起服务器...

我开始在每一步要进行网络请求的时候都开始解决app的开销

我不再刷新界面

所见不一定是所得









