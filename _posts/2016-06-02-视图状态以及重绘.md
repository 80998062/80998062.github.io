---
layout:     post
title:      "视图状态以及重绘"
subtitle:   "笔记笔记"
date:       2016-06-02
author:     "Sinyuk"
header-img: ""
tags:
    - Android
    - View
---

# 视图状态以及重绘

## 视图状态

常见的视图状态有`enable`,` focused`,` pressed`等等

每当视图状态发生变化的时候 就会调用`drawableStateChanged()`

 ## 视图重绘

调用视图的`setVisibility()`、`setEnabled()`、`setSelected()`等方法时都会导致视图重绘

 如果我们想要手动地强制让视图进行重绘，可以调用`invalidate()`方法来实现。

 当然了,`setVisibility()`、`setEnabled()`、`setSelected()`等方法的内部其实也是通过调用`invalidate()`方法来实现的

`invalidate()`方法虽然最终会调用到`performTraversals()`方法中,但这时measure和layout流程是不会重新执行的,因为视图没有强制重新测量的标志位,而且大小也没有发生过变化,所以这时只有draw流程可以得到执行.

> 而如果你希望视图的绘制流程可以完完整整地重新走一遍,就不能使用`invalidate()`方法,而应该调用`requestLayout()`了